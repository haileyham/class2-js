<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <title>3-5.2</title>
</head>

<body>
  <div class="container">
    <div class="row">

      <!-- <div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>Card title</h5>
        <p>가격 : 70000</p>
      </div> -->

    </div>
  </div>

  <div class="container">
    <button class="btn btn-danger" id="more">더보기</button>
  </div>





  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    var products = [
      { id: 0, price: 70000, title: 'Blossom Dress' },
      { id: 1, price: 50000, title: 'Springfield Shirt' },
      { id: 2, price: 60000, title: 'Black Monastery' }
    ];
  </script>
  <script>
    // for (let i = 0; i < $('.col-sm-4').length; i++) {
    //   document.querySelectorAll('.col-sm-4 h5')[i].innerHTML = products[i]['title'];
    // }


    products.forEach(function (a, i) {
      var 템플릿 =
        `<div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${products[i].title}</h5>
        <p>가격 : ${products[i].price}</p>
      </div>`;
      $('.row').append(템플릿)
    });
    // forEach문으로 array자료 js로 html에 집어넣고
    // 파라미터 두번째꺼 활용해서 정수 0,1,2 돌기때문에 []안에 순서대로 돌아감
    // <p>가격 : ${products[i].price}</p>
    // <p>가격 : ${a.price}</p>
    // 두개 동일한 것임. a를 집어넣으면 array 하나씩 돌게하는것
  </script>

  <script>
    // 더보기 버튼 누르면 상품3개 가져와서 출력하기
    // https://codingapple1.github.io/js/more1.json 으로 GET 요청하면 상품 3개 array보내기

    let count = 1;

    $('#more').on('click', function () {
      if(count == 1){
      $.get('https://codingapple1.github.io/js/more1.json').done(function (data) {
        data.forEach(function (a, i) {
          var 템플릿 =
            `<div class="col-sm-4">
            <img src="https://via.placeholder.com/600" class="w-100">
            <h5>${data[i].title}</h5>
            <p>가격 : ${data[i].price}</p>
            </div>`;
          $('.row').append(템플릿)
          count++;
        })
      })} 
    })

    // 위에서한 products array가져오는대신에
    // data 받아온 데이터 array 가져오기

    //어우복잡해나중에 전체복습하면서 또해보자 if 문 이용해서 2번클릭했을때 7,8,9번 나오게...ㅎr..
    //머리가 윙윙
  </script>

</body>

</html>